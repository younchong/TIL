# 1. 컴퓨터의 기본 구성

* 하드웨어의 기본 구성
  * CPU(중앙 처리 장치) - 명령어를 해석하여 실행하는 장치
  * 메인 메모리 - 작업에 필요한 프로그램과 데이터를 저장하는 장소
  * 입출력 장치 (모니터, 마우스, 키보드 등)
  * 저장장치 (CD, SD 카드, USB 드라이버 등)
  * 메인보드 - 다양한 부품들을 연결하는 장치
* 폰노이만 구조는 메모리를 이용하여 프로그래밍이 가능한 컴퓨터 구조로, 하드웨어는 그대로 둔 채 작업을 위한 프로그램만 교체하여 메모리에 올리는 방식이다. 오늘날 대부분의 컴퓨터가 폰노이만 구조를 사용하고, CPU, 메모리, 입출력장치, 저장장치가 버스로 연결되어 있는 구조다. 모든 프로그램이 메모리에 올라와야만 실행할 수 있음.
* 클록은 CPU작업 할 떄의 일정한 박자를 만들어내는 것, 클록이 틱(펄스, 클록틱)을 만들면 거기에 맞춰 CPU안 모든 구성 부품이 작업을 함
* 헤르츠는 클록틱이 발생하는 속도를 나타내는 단위
* 시스템 버스와 CPU 내부 버스
  * 시스템 버스 - 메모리와 주변장치를 연결하는 버스, FSB(Front Side Bus)라고도 함
  * CPU 내부버스 - CPU 내부에 있는 장치를 연결하는 버스, BSB(Back Side Bus), CPU 클락과 속도가 같음, 시스템 버스보다 훨씬 빠름


# 2. CPU와 메모리

* CPU 기본 구성
  * 산술 논리 연산장치 - 데이터를 연산하는 장치
  * 제어장치 - 작업을 지시하는 부분
  * 레지스터 - CPU내에 데이터를 임시로 보관하는 곳
    * 데이터 레지스터(DR) - 메모리에서 가져온 데이터를 임시로 보관시 사용, 대부분 레지스터가 데이터 레지스터라 일반 레지스터 또는 범용 레지스터라고도 함
    * 주소 레지스터(AR) - 데이터 또는 명령어가 저장된 메모리의 주소
    * 특수 레지스터 - 데이터 레지스터와 주소 레지스터 이외 특별한 용도로 사용되는 레지스터들
      * 프로그램 카운터, 명령어 레지스터, 메모리 주소 레지스터(메모리에서 데이터 가져오거나 보낼때 주소 저장), 메모리 버퍼 레지스터(메모리에서 가져온 데이터나 메모리로 옮겨 갈 데이터를 임시로 저장) 이 둘은 항상 함께 동작

* 버스의 종류
  * 버스는 CPU와 메모리, 주변장치 간에 데이터를 주고 받을 때 사용
  * 제어 버스 - 다음에 어떤 작업을 할지 지시하는 제어신호가 오고 감
  * 주소 버스 - 메모리의 데이터를 읽거나 쓸 때 어느 위치에서 작업할 것인지를 알려주는 위치정보(주소)가 오고 감
  * 데이터 버스 - 데이터를 실어 목적지까지 이동 시킴, 메모리 버퍼 레이스터와 연결되어 있으며 양방향임

* 메모리의 종류
  * 램(Random Access Memory) - 읽거나 쓸 수 있음, 롬(Read Only Memory) - 읽기만 가능
    * 휘발성 메모리 - 전력이 끊어지면 데이터가 사라짐, 메인 메모리에 주로 사용
      * DRAM(Dynamic RAM) - 일정 시간이 지나면 데이터가 사라져서 일정 시간마다 다시 재생시켜야 함
      * SRAM(Static RAM) - 전력이 공급되는 동안에는 데이터를 보관가능, 그래서 재생할 필요 없음
      * SDRAM(Synchronous Dynamic RAM) - DRAM의 발전된 형태, 클록틱 발생할 때마다 데이터를 저장하는 동기 DRAM
    * 비휘발성 메모리 - 플래시 메모리, FRAM, PRAM 등, 최대 사용 횟수가 제한되어 있어서 그 이상을 사용하면 제 기능을 잃는다.
  * 메모리 보호 - 사용자의 영역의 작업이 운영체제 영역으로 침범하지 못하도록 하는 것으로, 침범하게 되면 프로그램을 파괴하거나 데이터를 지울 수도 있고, 시스템을 멈출 수도 있다.
    * 메모리 보호 방법 중 하나로 메모리 시작 주소를 경계 레지스터로, 마지막 주소를 한계 레지스터로 저장 후 작업이 진행되는 동안 하드웨어적으로 이 두 레지스터의 범위를 벗어나는 지 점검
  * 부팅은 컴퓨터를 켰을 때 운영체제를 메모리에 올리는 과정을 말함


  # 3. 컴퓨터 성능 향상 기술

  * 현대 컴퓨터 구조의 가장 큰 문제는 CPU와 메모리, 주변장치의 작업속도가 다름, CPU내부 버스의 빠른 속도와 시스템 버스의 속도차이
  * 해결 방법
    * 버퍼 - 일정량의 데이터를 모아 옮김으로써 속도차이를 완화하는 역할, 같은 사양의 디스크라도 버퍼의 용량이 큰 것이 더 빠름
    * 스풀 (Stimultaneous Peripheral Operation On-Line) - CPU와 입출력장치가 독립적으로 동작하도록 고안된 소프트웨어적인 버퍼
    * 캐시 - 메모리와 CPU 간의 속도 차이를 완화하기 위해 메모리의 데이터를 미리 가져와 저장해두는 임시 장소, CPU가 사용할 것으로 예상되는 데이터를 미리 가져다 놓음 (CPU내부에 존재, CPU내부 버스의 속도로 작동)
      * 캐시 히트 - CPU가 사용할 데이터를 캐시에서 찾았을 때
      * 캐시 미스 - CPU가 사용할 데이터가 캐시에 없을 때
      * 캐시 적중률을 높이는 법 중 하나는 캐시 용량을 늘리기
      * 캐시 종류
      * 일반 캐시 (명령어와 데이터의 구분없이 모든 자료를 가져옴), 특수 캐시 (명령어와 데이터를 구분하여 가져옴)
      * L1 캐시 (CPU 레지스터에 직접 연결된 명령어 캐시나 데이터 캐시), L2 캐시 (메모리와  연결되어 있는 일반 캐시)
  * 인터럽트 - CPU의 작업과 저장장치의 데이터 이동을 입출력 관리자가 독립적으로 운영함으로써 시스템의 효율을 높히는 데, 이때 입출력 관리자가 CPU에 보내는 완료 신호
  * 직접 메모리 접근 - 입출력 관리자에게 CPU의 허락없이 메모리에 접근할 수 있는 권한을 주는 것
  * 메모리 매핑 입출력 - CPU가 사용하는 메모리 공간과 직접 메모리 접근을 통해 들어오거나 나가는 데이터를 위한 공간을 분리하여 메모리를 사용하는 것
  * 사이클 훔치기 - CPU와 직접 메모리 접근이 동시에 메모리에 접근할 때 CPU가 작업속도가 더 빨라서 메모리 사용 권한을 양보하는 것


# 4. 병렬 처리

* CPU 성능 향상 방법 중 클록을 높이면 발열 문제 발생, 캐시의 크기를 늘리면 비용 문제 발생
* 대안 방법으로 코어를 여러개 만들거나 동시 실행 가능한 명령의 개수를 늘리는 방법 사용
* 병렬 처리란 동시에 여러 개의 명령을 처리하여 작업의 능률을 올리는 방식
  * 파이프 라인 기법 - 하나의 코어에 여러 개의 스레드를 이용하는 방식, CPU사용을 극대화하기 위해 명령을 겹쳐서 실행하는 방법, 그러나 데이터 위험, 제어 위험, 구조적 위험을 가지고 있음 
  * 슈퍼스칼라 기법 - 파이프 라인을 처리할 수 있는 코어를 여러 개 구성하여 복수의 명령어가 동시에 실행되도록 하는 방식, 파이프라인과 비슷하지만 코어를 2개 구성하여 각 단계에서 동시에 실행되는 명령어가 2개이다. 대부분의 CPU가 사용하는 기법
  * 슈퍼파이프라인 기법 - 파이프 라인의 각 단계를 세분하여 한 클록 내에 여러 명령어를 처리할 수 있음, 크레이 슈퍼컴퓨터 CPU에 사용
  * 슈퍼파이프라인 슈퍼스칼라 기법 - 슈퍼파이프라인 기법을 여러 개의 코어에서 동시에 수행하는 방식
  * VLIW(Very Long Instruction Word) 기법 - CPU가 병렬 처리를 지원하지 않을 경우 소프트웨어적으로 병렬 처리를 하는 방법, 동시에 수행할 수 있는 명령어들을 컴파일러가 추출하고 하나의 명령어로 압축하여 실행, 앞의 방식들보단 동시에 처리하는 명령어의 개수가 적음
* 고려 사항 - 상호 의존성 없어야 함, 각 단계의 시간 처리 비슷해야 효율 높음, 전체 작업 시간 나눌 단계를 잘 따져보아야 함
* 스레드는 CPU가 처리할 수 있는 작업의 단위, CPU 내에서 제어장치가 명령어를 가져와 해석 후 실행하고 결과를 저장하는 과정, 파이프 라인 기법에서는 CPU의 한 클록에 한번씩 스레드를 이루는 각 단계가 실행 됨
