# 6장 전송 계층: 신뢰할 수 있는 데이터 전송하기

### 전송 계층

전송 계층은 데이터를 제대로 전달하는 역할을 하며, 오류를 점검하기도 한다.

신뢰하고 정확하게 데이터를 전송하는 통신 방식인 연결형 통신 방식 (TCP 프로토콜 방식)

신뢰성은 보장하지 않지만 효율적으로 데이터를 전송하는 비연결형 통신 방식이있다. (UDP 프로토콜 방식)

### TCP

연결 확립을 위해서 3-way hand shake가 이루어지고, ‘SYN’, ‘ACK’가 연결 확립시에 ‘FIN’, ‘ACK’는 연결을 종료시에 사용한다.

TCP헤더가 붙은 데이터인 세그먼트에 연결확립을 위한 SYN, ACK, FIN 코드비트가 존재한다.

### 일련번호와 확인 응답 번호

일련번호를 통해서 몇 번째 데이터인지 알려주는 역할을 하고, 확인 응답 번호를 통해서 수신했는지를 송신측에 알려주면서 다음 수신해야될 일렬번호를 알려준다.

세그먼트를 일시적으로 보관하는 장소를 버퍼라고 하는데 버퍼의 크기를 윈도우 사이즈라고 한다.

이를 넘기면 오버플로우가 일어나고 초기 3-way hand shake를 할 때 윈도우 크기를 판단한다.

### 포트번호

TCP헤더의 포트번호를 통해서 어떤 어플리케이션인지 구분할 수 있다.

통신을 받을 때, 해당 컴퓨터에서 브라우저도 켜두고, 다른 메일 어플리케이션등도 켜두었을 때, 

브라우저로 갈지, 메일 어플리케이션으로 갈지 확인하는 방법은 목적지 포트번호를 통해서 알 수 있다.

수신측에서는 다시 목적지 포트 번호를 출발지 포트번호로 바꿔서 보내면 된다.

### UDP

데이터를 빠르고 효율적으로 보내는 방식으로 주로 스트리밍 방식으로 전송하는 동영상 서비스에서 주로 사용된다.

UDP 헤더는 TCP에 비해 간단하고 랜에 있는 컴퓨터들에게 브로드캐스트로 데이터 일괄 전송 가능하다.

UDP 헤더가 있는 데이터를 UDP 데이터 그램이라고 한다.
