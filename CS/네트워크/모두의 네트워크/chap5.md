# 5장 네트워크 계층: 목적지에 데이터 전달하기

## 라우터

네트워크 계층은 서로 다른 네트워크에 있는 목적지로 데이터를 전송하기 위해 필요하다.

(데이터 링크 계층의 기능으로는 해당 네트워크 안에서만 통신이 가능)

라우터를 통해서 다른 네트워크로 통신을 가능하게 한다.

라우터는 네트워크를 식별할 수 있는 IP주소를 통해서 다른 네트워크로 가는 경로를 알 수 있다.

목적지 IP주소까지 어떤 경로로 데이터를 보낼지 결정하는 것을 라우팅이라고 한다.

네트워크 계층에서 캡슐화할 떄 IP 헤더를 추가하는 데, 헤더에는 출발지 IP 주소와 목적지 IP 주소가 포함되어 있다.

컴퓨터에서 다른 네트워크에 데이터를 전송하려면 라우터의 IP 주소를 설정해야 되는데, 이것을 네트워크의 출입구를 설정하는 것으로 기본 게이트웨이라고 한다.

컴퓨터에서 라우터로 보내고, 라우팅 테이블에 등록되어 있는 정보를 라우터가 활용해서 다른 네트워크로 데이터를 보내는 흐름이다.

이때 라우터 간에 라우팅 정보를 서로 교환하기 위한 프로토콜로 라우팅 프로토콜을 사용한다.

### IP 주소

ISP (인터넷 서비스 제공자)를 통해서 IP주소를 받을 수 있다.

IP 버전은 IPv4와 IPv6가 있다. (더 많은 IP주소가 필요하게 됨으로 32비트 → 128비트 업그레이드)

IP주소의 종류에는 공인 IP 주소와 사설 IP 주소가 있다.

IP 주소는 네트워크 ID와 호스트 ID로 나누어진다.

IP주소는 네트워크 주소와 브로드캐스트 주소로 나누어지는데, 

네트워크 주소는 해당 네트워크의 대표 주소로 192.168.1.0 이고 해당 네트워크에는 192.168.1.X를 가지고 있다.

브로드 캐스트 주소는 해당 네트워크에 속하는 컴퓨터나 장비에 한 번에 데이터를 전송하는 데 사용하는 전용 IP주소이다.

호스트 ID에 255를 설정하면 된다. 192.168.1.255

### 서브넷

네트워크를 분할하는 것을 서브넷팅이라고 하고, 분할된 네트워크를 서브넷이라고 한다.

이를 통해서 더 작은 네트워크로 분할하여 브로드 캐스트로 전송되는 패킷의 범위를 좁힐 수 있다. (효율적으로 충돌 없이 전송 가능)

기존의 네트워크 ID와 호스트 ID로 구성된 것을 네트워크 ID, 서브넷 ID, 호스트 ID로 나누어진다.

서브넷 마스크는 네트워크 주소와 호스트 주소를 식별하는 값이다.
