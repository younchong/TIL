# OSI 7계층에 대해서 설명하시오
<details>
<summary>답변</summary>

* 인터넷환경에서 통신하기 위해 네트워킹에 대한 표준을 7계층으로 나눈 것
1. Physical 물리 - 데이터를 전송하는 역할, 데이터 전기적인 신호로 변환해서 주고받는 기능 진행하는 공간
2. Data Link 데이터 링크 - 물리 계층으로 송수신되는 정보를 관리하여 안전하게 전달되도록 도와주는 역할
3. Network 네트워크 - 데이터를 목적지까지 가장 안전하고 빠르게 전달하는 기능 담당
4. Transport 전송 - TCP와 UDP 프로토콜을 통해 통신을 활성화한다. 포트를 열어두고 프로그램들이 전송을 할 수 있도록 제공
5. Session 세션 - 데이터가 통신하기 위한 논리적 연결을 담당, TCP/IP 세션을 만들고 없애는 책임
6. Presentation 표현 - 데이터 표현에 대한 독립성을 제공하고 암호화하는 역할을 담당
7. Application 응용(사용할 프로그램) - 최종 목적지로, 응용 프로세스와 직접 관계하여 일반적인 응용 서비스를 수행

* 7계층으로 나눈 이유는 통신이 일어나는 과정을 단계별로 알 수 있고, 특정한 곳에 이상이 생기면 그 단계만 수정할 수 있음
</details>

  - 라우터와 스위치의 차이
    * 라우터와 스위치는 모두 네트워크 연결 장치이지만, 라우터는 패킷이 대상에 도달할 수 있는 최적의 경로(가장 적은 이동 횟수)를 결정하는데 사용하고, 스위치는 도착한 패킷을 저장하고 처리하여 목적지 주소를 판별하고 패킷을 특정 대상으로 전달하는 데 사용합니다.
    * 라우터는 물리적 계층, 데이터 링크, 네트워크 계층에서 작동하는 반면, 스위치는 데이터 링크 계층과 네트워크 계층에서만 작동
    * 라우터는 2개의 LAN, 2개의 WAN 또는 LAN 및 WAN과 같은 다른 네트워크를 연결하지만, 스위치는 여러 장치를 연결하여 네트워크 만듦.

  - 라우터와 게이트웨이 차이
    * 라우터는 주로 LAN과 WAN을 연결하는 데 주로 사용되지만, 게이트웨이는 프로토콜이 다른 네트워크를 연결할 때 주로 사용
    * 게이트웨이는 용어, 개념이고 라우터는 구체적인 장비
  - 게이트웨이
    * 종류가 다른 네트워크 간의 통로의 역할을 하는 장치


# TCP/IP 4계층
  
<details>
<summary>답변</summary>

1. 네트워크 엑세스 (Network Access Layer) - LAN, 패킷망 등에 사용 (OSI 7계층의 물리계층과 데이터 링크 계층에 해당) 
2. 인터넷 계층 (Internet Layer) - 통신 노드 간의 IP패킷을 전송하는 기능과 라우팅 기능 담당 (OSI 7계층의 네트워크 계층에 해당)
3. 전송 계층 (Transport Layer) - 통신 노드 간의 연결을 제어하고 신뢰성 있는 데이터 전송을 담당 (OSI 7계층의 전송 계층에 해당) 
4. 응용 계층 (Application Layer) - TCP/UDP 기반의 응용 프로그램을 구현할 때 사용 (OSI 7계층의 세션 계층, 표현 계층, 응용 계층 해당) 

* 현재 수 많은 프로그램들이 인터넷으로 통신하는데 있어 가장 기반이 되는 프로토콜로 실제 대다수 프로그램은 TCP와 IP로 통신

- OSI 7계층 쓰지않고 TCP/IP쓰는 이유
  * TCP/IP는 인터넷 개발 이후 계속 표준화되어 신뢰성이 우수한 반면, OSI 7 Layer는 표준이 되기는 하지만 실제적으로 구현되는 예가 거의 없어 신뢰성이 저하됨
  * OSI 7계층은 장비 개발과 통신 자체를 어떻게 표준으로 잡을 지 사용되는 반면 실질적인 통신 자체는 TCP/IP 프로토콜을 사용
</details>

# TCP, UDP에 대해서 설명
<details>
<summary>답변</summary>

* TCP는 신뢰성이 있는 통신을 위해 사용하는 프로토콜로, 높은 신뢰성을 보장하지만, UDP보다는 속도가 느림, 3wayhandshake, 4wayhandshake로 서버와 클라이언트가 1 : 1통신을 함, 흐름제어와 혼잡제어가 이루어짐
* UDP는 비연결형 프로토콜로, 손상된 데이터에 대해서 재전송하지 않음, 신뢰성이 낮지만, TCP보다 속도가 빨라서 주로 스트리밍 서비스나 온라인 게임에서 사용됨, 1:1, 1:N, N:M으로 연결이 가능

* 흐름제어는 송신측과 수신측의 데이터 처리 속도 차이를 해결하기 위한 기법, 수신측에서 송신측에게 현재 자신의 상태를 feedback함
* 혼잡제어는 송신측의 데이터 전달과 네트워크의 데이터 처리 속도 차이를 해결하기 위한 기법, 네트워크의 혼잡을 피하기 위해서 송신측에서 보내는 데이터의 전송속도를 줄이는 작업, 또는 네트워크 내에 패킷의 수가 과도하게 증가하는 현상을 방지하거나 제거하는 기능
</details>

  - TCP에서 서버와 클라이언트 함수 호출 순서
  * socket() (소켓 생성) -> bind() (소켓 주소할당) -> listen() (연결요청 대기상태) -> accept (연결 허용) -> read()/write() (데이터 송수신) -> close() (연결 종료)

# 3way, 4way handshake에 대해 설명
<details>
<summary>답변</summary>

* TCP에서 정확한 전송을 보장하기 위해 통신에 앞서 논리적 접속을 성립하는 방식, 3 way handshake(SYN -> SYN, ACK ->  ACK)클라이언트와 서버사이에 3번의 통신이 완료되면 연결이 성립됨
* 연결성립 후 모든 통신이 끝났을 때 해체하는 방식, 4way handshake(FIN -> ACK, 데이터 다 보내면 FIN -> ACK -> 서버는 소켓닫고, 클라이언트는 TIME_WAIT끝나면 닫음)
* 4way handshake 종료 과정
  1. 클라이언트가 접속을 끊기 위해 CLOSE() 함수를 호출, 이 후 CLOSE()함수를 호출하면서 FIN segment를 보내게 되고 클라이언트는 FIN_WAIT1 상태로 변함
  2. 서버는 클라이언트가 CLOSE() 한다는 것을 알게 되고 CLOSE_WAIT 상태로 바꾼 후 ACK segment를 전송
  3. ACK segment를 받은 클라이언트는 FIN_WAIT2로 변환, 이때 서버는 CLOSE() 함수를 호출하고 FIN segment를 클라이언트에게 보냄
  4. 서버도 연결을 닫았다는 신호를 클라이언트가 수신하면 ACK segment를 보낸 후 TIME_WAIT 상태로 전환
  5. 이 후 모든 것이 끝나면 CLOSED 상태로 변환
* 4way handshake의 비정상 종료상황
  * FIN_WAIT1, FIN_WAIT2, CLOSE_WAIT 상태로 남아 계속 기다리는 상황
  * CLOSE_WAIT 상태일 떈 어플리케이션에서 close()를 적절하게 처리해주지 못해서 생기게 되고, 어플리케이션 개발시 여러 상황에 따라 close()처리를 잘해줘야 함
  * FIN_WAIT1 상태는 서버를 찾을 수 없는, 네트워크 및 방화벽의 문제로 일정 시간이 지나 Time Out이 되면자동으로 Closed됨
  * FIN_WAIT2 상태는 서버측에서 CLOSE를 처리하지 못하는 경우로 일정시간 후 Time Out이 되면 스스로 Closed하게 됨
  * Time Out이 되는 시간이 길어서 소켓이 늘어나면, 메모리 부족으로 더 이상 소켓을 오픈하지 못하는 경우가 발생
</details>



# IP
<details>
<summary>답변</summary>

* IP는 Internet Protocol약자로 인터넷 망을 통해 패킷을 전달하는 프로토콜입니다. 비연결성과 비신뢰성의 특징을 가짐, 비연결성을 패킷을 보내는 길을 정하지않는 것이고, 비신뢰성은 패킷의 완전한 전달을 보장하지 않는 것임

</details>

  - ICMP (Internet Control Message Protocol)
    * TCP/IP 에서 IP 패킷을 처리할 때 발생되는 문제를 알려주는 프로토콜, TCP/IP의 네트워크 계층에서 사용됨
    * 해당 호스트가 없거나, 해당 포트에 대기중에 서버 프로그램이 없는 등의 에러 상황이 발생할 경우 이러한 에러에 대한 상황을 보내주는 역할을 수행
    * Destination Unreachable, Time Exceeded 크게 두가지 에러 메세지가 있음

  - IGMP (Internet Group Management Protocol)
    * 호스트컴퓨터와 인접 라우터가 멀티캐스트 그룹 멤버쉽을 구성하는 데 사용하는 통신 프로토콜
    * TCP/IP 프로토콜 집합이 동적 멀티캐스팅을 수행하기 위해 사용하는 표준 프로토콜
    * 멀티 캐스팅일란 특정 그룹에 속하는 모든 호스트에 메세지를 전송하는 방식을 말함

  - ARP (Address Resolution Protocol)
    * ARP 주소 결정 프로토콜은 LAN환경에서 논리적인 주소인 IP 주소를 물리적인 주소인 MAC 주소로 변환해 주는 네트워크 계층의 프로토콜
    * IP주소(논리주소) -> MAC 주소(물리 주소, LAN카드 주소)
  
  - RARP (Reverse Address Resolution Protocol)
    * MAC 주소에 해당하는 IP 주소를 알아오는 프로토콜

# DNS란?
<details>
<summary>답변</summary>

* Domain Network System으로 도메인 주소를 IP주소로 변환해주는 시스템을 말함
* DNS 사용이유는 IP주소는 외우기 어렵고, 변경가능성이 큼
- 작동순서
* URL을 입력하면 ISP(통신사)가 관리하는 DNS해석기의 요청을 라우팅 시킴, 그 다음 DNS 해석기가 루트서버에 top-level의 서버 주소를 요청하고, 그 다음 top-level에서 second-level, second-level에서 sub DNS server, 이렇게 해서 최종적으로 IP주소를 얻게 됨

* 라운드 로빈 DNS
  * 별도의 소프트웨어 혹은 하드웨어 로드 밸런싱 장비를 사용하지 않고, DNS만을 이용하여 도메인 레코드 정보를 조회하는 시점에서 트래픽을 분산하는 기법
  * 지리적으로 복수의 웹 서버가 멀리 떨어져 있어서 실시간으로 헬스 체크가 어려울때 주로 사용, 혹은 적은 비용으로 구현시
  * 단점은 로드 밸런싱 기능이 없기에 별도의 헬스 체크가 없어서 특정 웹서버에 문제도 DNS가 알 방법이 없고, 서버의 공인 IP를 도메인 조회 결과에 포함시키기 때문에 HA(High Availability) 용도로는 적합하지 않음
</details>

- Proxy Server
  * 시스템에 방화벽을 가지고 있는 경우 외부와의 통신을 위해 만들어 놓은 서버를 말합니다.
  * 프록시 서버는 클라이언트가 자신을 통해서 다른 네트워크 서비스에 간접적으로 접속할 수 있게 해주는 컴퓨터
  * 캐시를 이용하여 프록시 서버에 요청된 내용들을 저장

# 로드밸런싱이란?
<details>
<summary>답변</summary>

* 여러 서버에 부하를 나누어주는 역할을 하는 것으로 로드밸런서를 클라이언트와 서버 사이에 두고 부하가 일어나지 않도록 여러 서버에 분산시켜주는 방식임
* 서버의 부하를 분산시켜주는 시스템으로 L4 로드밸런서와 L7 로드 밸런서가 있음, L4로드밸런서는 4계층 이하의 정보를 가지고 로드를 분산, 특히 MAC주소, IP주소, 포트정보를 가지고 트래픽 분산해줌, 
L7로드밸런서는 응용계층의 정보를 가지고 로드 분산을 해줌, 패킷 내용을 확인하고 분산해서 DDoS같은 비정상적인 트래픽도 필터링 가능
</details>

- 서버 느려질때
