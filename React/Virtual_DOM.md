# Virtual DOM

* make re-rendering on every change fast
* UI의 이상적인 모습을 메모리에 저장하고, ReactDOM 라이브러리로 실제 DOM과 동기화하는 프로그래밍 개념
* 과정
  * 데이터가 업데이트되면, 전체 UI를 virtual DOM에 리렌더링
  * 이전 virtual DOM과 비교 후 변경된 부분만 실제 DOM에 한번에 적용 (레이아웃 계산 한번만 함, 연산 횟수가 줄어듦)
* 비교할 때 상위 노드가 다르면 하위노드 상관없이 해당 노드부터 하위노드까지 전체를 변경한다. (breadth-first than depth-first, slower and expensive process)
* React의 diffing algorithm은 두가지 가정 기반 O(n) 복잡도의 휴리스틱 알고리즘 구현
  1. 서로 다른 두 타입 엘리먼트는 서로 다른 트리를 만듦
  2. 개발자가 key prop으로, 여러 렌더링 사이에 어떤 자식 엘리먼트가 변경되지 않아야 할지 표시해줄 수 있다. (인덱스로 key 주면 안좋은 이유 알 수 있음.)
  * 휴리스틱 알고리즘이란, 기존의 방식의 적합성, 정확성을 희생하면서 더 빠르고 효율적인 방식의 알고리즘을 말한다.


# DOM

* DOM에 변화가 생기면, 다시 렌더트리를 만들고, 레이아웃, 페인팅을 하는 과정에서 브라우저가 많이 연산을 해야되고 전체 프로세스에 비효율적이다. (SPA같은 경우라면 더욱)
* 전체 노드를 업데이트하고 렌더 트리를 만든다.