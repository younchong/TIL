# 브라우저의 렌더링 과정

  * 파싱(parsing) - 프로그래밍 언어의 문법에 맞게 작성된 텍스트 문서를 읽어 들여 실행하기 위해 텍스트 문서의 문자열을 -> 토큰 -> 파스 트리 로 생성하는 일렬의 과정
  * 렌더링 - HTML, CSS, JS로 작성된 문서를 파싱하여 브라우저에 시각적으로 출력하는 것

# HTML 파싱과 DOM 생성
  
  * DOM은 HTML 문서를 파싱한 결과물이다.
  * DOM(Document Object Model)은 브라우저가 이해할 수 있는 자료구조

# CSS 파싱과 CSSOM 생성

  * link 태그나 style 태그를 만나면 DOM생성을 중단하고 CSS를 파싱한다.
  * 파싱 과정
    * 바이트 -> 문자 -> 토큰 -> 노드 -> CSSOM

# 렌더 트리 생성

  * DOM과 CSSOM이 렌더링을 위해 렌더 트리로 결합
  * 렌더 트리는 렌더링을 위한 트리 구조의 자료구조다.
  * 렌더 트리 -> layout -> paint
    * 레이아웃 계산과 페인팅을 다시 실행하는 리렌더링은 비용이 많이드는, 성능에 악영향을 주는 작업이다.
      * 자바스크립트에 의한 노드 추가 또는 삭제
      * 브라우저 창의 리사이징에 의한 뷰포트 크기 변경
      * HTML 요소의 레이아웃(위치, 크기)에 변경을 발생시키는 스타일 변경
  * 자바스크립트 코드에 의해 DOM이나 CSSOM을 변경하는 DOM API 사용된 경우, DOM이나 CSSOM이 변경되는 데, 이때 다시 렌더 트리로 결합되고, 렌더 트리 기반으로 레이아웃과 페인트 과정을 거쳐 브라우저 화면에 다시 렌더링 된다. 이를 리플로우, 리페인트라고 한다.

# 자바스크립트 파싱과 실행

  * 브라우저는 동기적으로, 즉 위에서 아래 방향으로 순차적으로 HTML, CSS, JS를 파싱하고 실행하는데, script태그 위치에 따라 HTML 파싱이 블록킹 된다.
  * script태그 위치가 중요한 의미를 가짐
  * 블록킹을 예방하기 위해 body 마지막에 script를 주로 위치시킨다.
  * 이외에 async나 defer 어트리뷰트를 이용해서 블록킹 문제를 해결할 수 있다.
    * async는 자바스크립트 파싱과 실행은 파일의 로드가 완료된 직후 실행된다.
    * defer는 자바스크립트 파싱과 실행은 HTML 파싱이 완료된 직후 실행된다.